#imageworking
global meleelist rangedlist bonuslist ninjitsu taijitsu genjitsu allbuttonskills kunaijitsu futonjitsu katonjitsu suitonjitsu dotonjitsu raitonjitsu
set allbuttonskills [list "suiken" "hachimon-1" "hachimon-2" "hachimon-3" "hachimon-4" "hachimon-5" "hachimon-6" "hachimon-7" "hachimon-8" "shofu" "omote-renge" "ura-renge" "asakujaku" "hirudora" "taju-kage-bunshin" "kage-bunshin" "kawarimi" "kai" "futon-shinku-gyoku"]
set meleelist [list "hirudora" "rasen-cho-tarengan" "naruto-yonsen-rendan" "senpo-kawazu-naki" "asakujaku" "odama-rasengan" "futon-rasengan" "rasengan" "naruto-nisen-rendan" "ura-renge" "raiton-raikiri" "hyoton-makyo-hyosho" "omote-renge" "raiton-chidori" "suiton-suiro" "katon-ryuka" "hyoton-sensatsu-suisho" "shofu"]
set rangedlist [list "futon-rasensuriken" "hirudora" "suiton-suiryudan" "suiton-suiro-same-odori" "futon-kiryu-ranbu" "asakujaku" "suiton-daibakufu" "suiton-suijinheki" "futon-shinku-renpa" "futon-kazekiri" "sogu-tensasai" "hyoton-koridomu" "doton-doryu-heki" "katon-endan" "futon-zankukyokuha" "futon-shinkuha" "futon-shinku-dai-gyoku" "sofusha-san-no-tachi" "soshoryu" "bunshin-no-henge" "katon-housenka" "futon-shinku-gyoku" "doton-moguragakure" "suiton-mizurappa" "katon-gokakyu" "futon-zankuha"]
set bonuslist [list "sennin-mode" "mangekyo-sharingan-obito" "hachimon-8" "hachimon-7" "sharingan-3" "hachimon-6" "kuchiese-gamabunta" "kuchiese-yatai-kuzushi" "tengoku-no-kuchiese" "kuchiese-ninkame" "hachimon-5" "suiton-dai-baku-suishoha" "sharingan-2" "hachimon-4" "hachimon-3" "doton-tsuiga" "suiton-baku-suishoha" "suiton-mizu-bunshin" "katon-haisekisho" "soshuga" "kuchiese-meisu" "narakumi" "kokoni-arazu" "kibakufuda-no-kawarimi" "kibakufuda" "sharingan-1" "hachimon-2" "taju-kage-bunshin" "suiken" "hachimon-1" "hyoton-korikyo" "suiton-kirigakure" "suiton-suika" "kuchiese-kusarigama" "raiko-kenka" "kage-bunshin" "kawarimi" "kai"]
set ninjitsu [list "futon-rasensuriken" "rasen-cho-tarengan" "suiton-suiryudan" "suiton-suiro-same-odori" "futon-kiryu-ranbu" "kuchiese-gamabunta" "kuchiese-yatai-kuzushi" "tengoku-no-kuchiese" "kuchiese-ninkame" "odama-rasengan" "suiton-dai-baku-suishoha" "suiton-daibakufu" "suiton-suijinheki" "futon-rasengan" "futon-shinku-renpa" "futon-kazekiri" "sogu-tensasai" "rasengan" "hyoton-makyo-hyosho" "hyoton-koridomu" "raiton-raikiri" "raiton-chidori" "doton-tsuiga" "doton-doryu-heki" "suiton-baku-suishoha" "suiton-suiro" "suiton-mizu-bunshin" "katon-haisekisho" "katon-endan" "katon-ryuka" "futon-zankukyokuha" "futon-shinkuha" "futon-shinku-dai-gyoku" "sofusha-san-no-tachi" "soshoryu" "taju-kage-bunshin" "hyoton-sensatsu-suisho" "hyoton-korikyo" "suiton-mizurappa" "suiton-kirigakure" "suiton-suika" "katon-housenka" "katon-gokakyu" "futon-shinku-gyoku" "futon-zankuha" "kage-bunshin"]
set taijitsu [list "hirudora" "naruto-yonsen-rendan" "asakujaku" "naruto-nisen-rendan" "ura-renge" "omote-renge" "doton-moguragakure" "shofu"]
set genjitsu [list "senpo-kawazu-naki" "narakumi" "kokoni-arazu" "kibakufuda-no-kawarimi" "kawarimi" "kai"]
set physicjitsu [list "hirudora" "naruto-yonsen-rendan" "asakujaku" "naruto-nisen-rendan" "tsuten-kyaku" "ura-renge" "omote-renge" "naruto-rendan" "soshuga" "kuchiese-meisu" "kuchiese-kusarigama" "hosho" "doton-moguragakure" "shoshitsu" "konoha-senpu" "shofu" "kubakufuda" "attack"]
set kunaijitsu [list "sogu-tensasai" "hyoton-makyo-hyosho" "sofusha-san-no-tachi" "soshoryu" "bunshin-no-henge" "shihohappo-suriken" "raiko-kenka" "hyoton-sensatsu-suisho" "senbon" "kunai"]
set futonjitsu [list "hyoton-makyo-hyosho" "hyoton-koridomu" "hyoton-sensatsu-suisho" "hyoton-korikyo" "futon-rasensuriken" "futon-kiryu-ranbu" "futon-rasengan" "futon-shinku-renpa" "futon-kazekiri" "futon-zankukyokuha" "futon-shinkuha" "futon-shinku-dai-gyoku" "futon-shinku-gyoku" "futon-zankuha"]
set katonjitsu [list "katon-haisekisho" "katon-endan" "katon-ryuka" "katon-housenka" "katon-gokakyu"]
set suitonjitsu [list "hyoton-makyo-hyosho" "hyoton-koridomu" "hyoton-sensatsu-suisho" "hyoton-korikyo" "suiton-suiryudan" "suiton-suiro-same-odori" "suiton-dai-baku-suishoha" "suiton-daibakufu" "suiton-suijinheki" "suiton-baku-suishoha" "suiton-suiro" "suiton-mizu-bunshin" "suiton-mizurappa" "suiton-kirigakure" "suiton-suika"]
set dotonjitsu [list "doton-tsuiga" "doton-doryu-heki" "doton-moguragakure"]
set raitonjitsu [list "raiton-raikiri" "raiton-chidori"]
proc enciclopedia_search {testskill testobj skill name damage number chakra} {
	if {$testskill == $skill} {
		return [set [set testobj]]
	} else {
		return "null"
	}
}
proc enciclopedia {skill obj {par "0"} {par2 0}} {
	set cyclo [list]
	lappend cyclo [list "attack" "Shinobi attack" [expr 3 + $par] [expr 2 + ($par/2)] 0]
	lappend cyclo [list "kunai" "Throw Kunai" 5 $par 0]
	lappend cyclo [list "suiken" "Suiken" 0 4 25]
	lappend cyclo [list "hachimon-1" "Kaimon" 0 -1 20]
	lappend cyclo [list "hachimon-2" "Kyumon" 0 -1 40]
	lappend cyclo [list "hachimon-3" "Seimon" 0 -1 60]
	lappend cyclo [list "hachimon-4" "Shomon" 0 -1 80]
	lappend cyclo [list "hachimon-5" "Tomon" 0 -1 100]
	lappend cyclo [list "hachimon-6" "Keimon" 0 -1 25]
	lappend cyclo [list "hachimon-7" "Kyomon" 0 -1 25]
	lappend cyclo [list "hachimon-8" "Shimon" 0 -1 50]
	lappend cyclo [list "sharingan-1" "Sharingan" 0 -1 10]
	lappend cyclo [list "sharingan-2" "Sharingan" 0 -1 10]
	lappend cyclo [list "sharingan-3" "Sharingan" 0 -1 10]
	lappend cyclo [list "mangekyo-sharingan-obito" "Mangekyo Sharingan" 0 -1 25]
	lappend cyclo [list "nine-tails" "Kyubi no Koromo" 0 2 0]
	lappend cyclo [list "kyubi-enabled" "Kyubi" 0 0 0]
	lappend cyclo [list "taju-kage-bunshin" "Taju Kage Bunsin no Jutsu" 0 [expr $par * 2] 50]
	lappend cyclo [list "shihohappo-suriken" "Shihohappo Suriken" 0 0 0]	
	lappend cyclo [list "bunshin-no-henge" "Bunshin no Henge no Jutsu" 0 1 10]
	lappend cyclo [list "rasengan" "Rasengan" [expr (3+$par)*(4+$par)] 1 50]	
	lappend cyclo [list "odama-rasengan" "Odama Rasengan" [expr 3*(3+$par)*(4+$par)/2] 1 100]
	lappend cyclo [list "rasen-cho-tarengan" "Rasen Cho Tarengan" [expr (3+$par)*(4+$par)] $par 200]
	lappend cyclo [list "sennin-mode" "Sennin Mode" 0 -1 60]
	lappend cyclo [list "konoha-senpu" "Konoha Senpu" 0 0 0]
	lappend cyclo [list "shofu" "Shofu" [expr 3 + $par] 1 10]
	lappend cyclo [list "konoha-dai-senpu" "Konoha Dai Senpu" 0 0 0]
	lappend cyclo [list "kubikiribocho" "Kubikiricocho" 0 0]
	lappend cyclo [list "sairento-kiringu" "Sairento Kiringu" 0 0]
	lappend cyclo [list "omote-renge" "Omote Renge" [expr 3*(3+$par)*(2+$par/2)/2] 1 25]
	lappend cyclo [list "ura-renge" "Ura Renge" [expr 3*(3+$par)*(2+$par/2)/2] 1 25]
	lappend cyclo [list "konoha-goriki-senpu" "Konoha Goriki Senpu" 0 0 0]
	lappend cyclo [list "tsuten-kyaku" "Tsuten Kyaku" 0 0 0]
	lappend cyclo [list "asakujaku" "Asakujaku" [expr 3 + $par] [expr 4 + $par] 100]
	lappend cyclo [list "konoha-congoriki-senpu" "Geki Konoha Congoriki Senpu" 0 0 0]
	lappend cyclo [list "hirudora" "Hirudora" [expr (3+$par)*(4+$par)] 1 200]
	lappend cyclo [list "bunshin-taiatari" "Bunshin Taiatari" 0 0 0]
	lappend cyclo [list "naruto-rendan" "Uzumaki Naruto Rendan" 0 0 0]
	lappend cyclo [list "naruto-nisen-rendan" "Uzumaki Naruto Nisen Rendan" [expr 2*(3+$par)*(2+$par/2+$par2)] 1 100]
	lappend cyclo [list "naruto-yonsen-rendan" "Uzumaki Naruto Yonsen Rendan" [expr 3*(3+$par)*(2+$par/2+$par2)] 1 150]
	lappend cyclo [list "shoshitsu" "Shoshitsu" 0 0 0]
	lappend cyclo [list "hosho" "Hosho" 0 0 0]
	lappend cyclo [list "kawarimi" "Kawarimi no Jutsu" 0 1 10]
	lappend cyclo [list "kage-bunshin" "Kage Bunshin no Jutsu" 0 $par 10]
	lappend cyclo [list "kibakufuda-no-kawarimi" "Kibakufuda no Kawarimi" 0 1 20]
	lappend cyclo [list "kokoni-arazu" "Magen: Kokoni Arazu no Jutsu" 0 $par 20]
	lappend cyclo [list "narakumi" "Magen: Narakumi no Jutsu" 0 0 20]
	lappend cyclo [list "futon-zankuha" "Futon: Zankuha" [expr 7*$par] 1 15]
	lappend cyclo [list "futon-zankukyokuha" "Futon: Zankukyokuha" [expr 10*$par] 1 25]
	lappend cyclo [list "futon-shinku-gyoku" "Futon: Shinku Gyoku" 10 $par 15]
	lappend cyclo [list "futon-hien" "Hien" 0 0 0]
	lappend cyclo [list "futon-shinku-dai-gyoku" "Futon: Shinku Dai Gyoku" [expr 20*$par] 1 35]
	lappend cyclo [list "futon-shinkuha" "Futon: Shinkuha" [expr 10*$par] 1 25]
	lappend cyclo [list "futon-reppusho" "Futon: Reppusho" 0 0 0]
	lappend cyclo [list "futon-shinku-renpa" "Futon: Shinku Renpa" [expr 30*$par] 1 70]
	lappend cyclo [list "futon-rasengan" "Futon: Rasengan" [expr (3+$par)*(4+$par)] 1 50]
	lappend cyclo [list "futon-kazekiri" "Futon: Kazekiri no Jutsu" [expr 15*$par] 1 50]
	lappend cyclo [list "futon-kiryu-ranbu" "Futon: Kiryu Ranbu" [expr 15*$par] 1 75]
	lappend cyclo [list "futon-rasensuriken" "Futon: Rasensuriken" [expr 40*$par] 1 150]
	lappend cyclo [list "katon-gokakyu" "Katon: Gokakyu no Jutsu" [expr 10*$par] 1 15]
	lappend cyclo [list "katon-housenka" "Katon: Housenka no Jutsu" 7 $par 10]
	lappend cyclo [list "katon-ryuka" "Katon: Ryuka no Jutsu" [expr 15*$par] 1 20]
	lappend cyclo [list "katon-endan" "Katon: Endan" [expr 20*$par] 1 25]
	lappend cyclo [list "katon-haisekisho" "Katon: Haisekisho" 0 -1 25]
	lappend cyclo [list "suiton-suika" "Suika no Jutsu" 0 1 10]
	lappend cyclo [list "suiton-kirigakure" "Suiton: Kirigakure no Jutsu" 0 -1 15]
	lappend cyclo [list "suiton-mizurappa" "Suiton: Mizurappa" [expr 10*$par] 1 10]	
	lappend cyclo [list "suiton-suiro" "Suiton: Suiro no Jutsu" 5 1 [expr 25 - (3*$par)]]
	lappend cyclo [list "suiton-mizu-bunshin" "Mizu Bunshin no Jutsu" 0 [expr $par * 2] 20]
	lappend cyclo [list "suiton-baku-suishoha" "Suiton: Baku Suishoha" 0 -1 30]
	lappend cyclo [list "suiton-suijinheki" "Suiton: Suijinheki" [expr 15*$par] 1 50]
	lappend cyclo [list "suiton-daibakufu" "Suiton: Daibakufu no Jutsu" [expr 20*$par] 1 70]	
	lappend cyclo [list "suiton-suiryudan" "Suiton: Suiryudan no Jutsu" [expr 25*$par] 1 100]
	lappend cyclo [list "doton-moguragakure" "Doton: Moguragakure no Jutsu" [expr 3 + $par] 1 10]
	lappend cyclo [list "doton-doryu-heki" "Doton: Doryu Heki" [expr 10*$par] 1 30]
	lappend cyclo [list "doton-tsuiga" "Kuchiese: Doton: Tsuiga no Jutsu" 0 0 20]
	lappend cyclo [list "raiton-chidori" "Chidori" [expr 10*$par] 1 30]
	lappend cyclo [list "raiton-raikiri" "Raikiri" [expr 15*$par] 1 60]
	lappend cyclo [list "hyoton-korikyo" "Hyoton: Korikyo" 0 1 10]
	lappend cyclo [list "hyoton-sensatsu-suisho" "Hyoton: Sensatsu Suisho" [expr 5 * $par] 1 15]
	lappend cyclo [list "hyoton-koridomu" "Hyoton: Koridomu" 1 1 10]
	lappend cyclo [list "hyoton-makyo-hyosho" "Hyoton: Makyo Hyosho" 10 1 [expr 25 - (3*$par)]]
	lappend cyclo [list "raiko-kenka" "Kuchiese: Raiko Kenka" 0 -1 15]
	lappend cyclo [list "kuchiese-kusarigama" "Kuchiese: Kusarigama" 0 -1 15]
	lappend cyclo [list "kuchiese-meisu" "Kuchiese: Meisu" 0 -1 25]
	lappend cyclo [list "soshuga" "Soshuga" 0 -1 25]
	lappend cyclo [list "soshoryu" "Soshoryu" [expr 10*$par] 1 25]
	lappend cyclo [list "sofusha-san-no-tachi" "Sofusha San no Tachi" 7 $par 10]
	lappend cyclo [list "senbon" "Senbon" 0 0 0]
	lappend cyclo [list "sogu-tensasai" "Sogu: Tensasai" [expr 15*$par] 1 50]
	lappend cyclo [list "kuchiese-ninkame" "Kuchiese: Ninkame" [expr $par*3] 0 75]
	lappend cyclo [list "tengoku-no-kuchiese" "Tengoku no Kuchiese" 0 0 75]
	lappend cyclo [list "kuchiese-gamabunta" "Kuchiese: Gamabunta" [expr $par*3] 0 75]
	lappend cyclo [list "kuchiese-yatai-kuzushi" "Kuchiese: Yatai Kuzushi no Jutsu" 0 0 100]
	lappend cyclo [list "senpo-kawazu-naki" "Senpo Kuchiese: Kawazu Naki" 5 1 100]
	lappend cyclo [list "kai" "Kai" $par 1 10]
	lappend cyclo [list "kubakufuda" "Kibakufuda" 50 1 0]
	lappend cyclo [list "kibakufuda" "Kibakufuda" 0 1 10]
	lappend cyclo [list "hakke-fuin-shiki" "Hakke Fuin Shiki" 0 0 0]
	foreach el $cyclo {
		set r [enciclopedia_search $skill $obj [lindex $el 0] [lindex $el 1] [lindex $el 2] [lindex $el 3] [lindex $el 4]]
		if {$r != "null"} {
			break
		}
	}
	return $r
}
proc is_melee {tech} {
	global meleelist
	set l $meleelist
	lappend l "attack"
	return [is_in $tech $l]
}
proc is_ranged {tech} {
	global rangedlist
	set l $rangedlist
	lappend l "kunai"
	return [is_in $tech $l]
}
proc is_bonus {tech} {
	global bonuslist
	return [is_in $tech $bonuslist]
}
proc is_ninjitsu {tech} {
	global ninjitsu
	return [is_in $tech $ninjitsu]
}
proc is_genjitsu {tech} {
	global genjitsu
	return [is_in $tech $genjitsu]
}
proc is_taijitsu {tech} {
	global taijitsu
	return [is_in $tech $taijitsu]
}
proc is_kunai_based {tech} {
	global kunaijitsu
	return [is_in $tech $kunaijitsu]
}
proc is_futon_based {tech} {
	global futonjitsu
	return [is_in $tech $futonjitsu]
}
proc is_katon_based {tech} {
	global katonjitsu
	return [is_in $tech $katonjitsu]
}
proc is_suiton_based {tech} {
	global suitonjitsu
	return [is_in $tech $suitonjitsu]
}
proc is_doton_based {tech} {
	global dotonjitsu
	return [is_in $tech $dotonjitsu]
}
proc is_raiton_based {tech} {
	global raitonjitsu
	return [is_in $tech $raitonjitsu]
}
proc have_special_animate {tech} {
#range tech, with have special animate
	return [is_in $tech [list "hirudora" "asakujaku" "sogu-tensasai" "soshoryu" "suiton-suijinheki" "suiton-daibakufu" "suiton-suiryudan" "doton-doryu-heki" "hyoton-koridomu"]]
}
proc is_high {name} {
#hero height for kunai technics
	return [is_in [get_name $name] [list "gui" "kakashi" "chunin-sound" "chunin-leaf-genjitsu" "haku"]]
}
proc is_melee_max {tech} {
	return [is_in $tech [list "hirudora" "asakujaku" "rasengan" "odama-rasengan" "futon-rasengan" "rasen-cho-tarengan" "naruto-yonsen-rendan" "senpo-kawazu-naki" "naruto-nisen-rendan" "raiton-chidori" "raiton-raikiri"]]
}
proc is_mass {name} {
	return [is_in $name [list "hirudora" "asakujaku" "suiton-daibakufu" "suiton-suiryudan" "futon-kazekiri" "futon-rasensuriken"]]
}
